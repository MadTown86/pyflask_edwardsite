{% extends "./base.jinja" %}
{% block content %}
<script>
   function check() {
      if (document.getElementById('floatingPassword').value ==
          document.getElementById('floatingPassword_verify').value 
        && document.getElementById('floatingPassword').value.length > 0){
          document.getElementById('floatingPassword').style.borderColor = 'green';
          document.getElementById('floatingPassword_verify').style.borderColor = 'green';
          document.getElementById('message').style.color = 'green';
          document.getElementById('message').innerHTML = 'Passwords Match!';
          document.getElementById('register_submit').removeAttribute('disabled');
      } else {
          document.getElementById('floatingPassword').style.borderColor = 'red';
          document.getElementById('floatingPassword_verify').style.borderColor = 'red';
      		document.getElementById('message').style.color = 'red';
          document.getElementById('message').innerHTML = 'Passwords Do Not Match!';
          document.getElementById('register_submit').setAttribute('disabled', 'True');
      }
  }
</script>
<article class="my-3 w-50 m-auto" id="floating-labels">
    <div class="bd-heading sticky-xl-top align-self-start mt-5 mb-3 mt-xl-0 mb-xl-2">
      <h3>Register</h3>
    </div>

    <div>
      <div class="bd-example-snippet bd-code-snippet">
<div class="bd-example m-0 border-0">
  
      <form method="post" action="api/register">
        <div class="form-floating w-50 mb-3">
          <input type="email" name="email_register" class="form-control" id="floatingInput" placeholder="name@example.com">
          <label for="floatingInput">Email address</label>
        </div>
        <div class="form-floating w-50 mb-3">
          <input type="password" name="password_register" class="form-control" id="floatingPassword" required="True" onkeyup='check();' placeholder="Password" style="background-image: url(&quot;chrome-extension://ibkoenhablealnikeefmjineccmgegmh/src/images/icons/icon-32.png&quot;) !important; background-position: calc(99% - 12px) 50% !important; background-size: 16px 16px !important; background-repeat: no-repeat !important; transition: background-position 0s ease 0s, background-size 0s ease 0s !important;">
          <label for="floatingPassword">Password</label>
        </div>
        <div class="form-floating w-50 mb-3">
            <input type="password" name="password_register_verify" class="form-control my-4" id="floatingPassword_verify" required="True" onkeyup='check();' placeholder="Password" style="background-image: url(&quot;chrome-extension://ibkoenhablealnikeefmjineccmgegmh/src/images/icons/icon-32.png&quot;) !important; background-position: calc(99% - 12px) 50% !important; background-size: 16px 16px !important; background-repeat: no-repeat !important; transition: background-position 0s ease 0s, background-size 0s ease 0s !important;">
            <label for="floatingPassword">Confirm Password</label>
            <span id="message"></span>
          </div>
      <article class="my-5" id="validation">
        <div>
          <div class="bd-example-snippet bd-code-snippet">
    <div class="bd-example m-0 border-0">
            <div class="col-md-4">
              <label for="validationServer01" class="form-label">First name</label>
              <input type="text" class="form-control" id="validationServer01" name="fn_register" value="" required="True">

            </div>
            <div class="col-md-4">
              <label for="validationServer02" class="form-label">Last name</label>
              <input type="text" class="form-control" id="validationServer02" value="" required="true" name="ln_register">
            </div>
            <div class="col-12">
              <button class="btn btn-primary" type="submit" id="register_submit" style="margin-top: 20px;">Register</button>
            </div>
            <div></div>
            {% if error_message %}
            <div class="alert alert-danger mt-3" role="alert">
               {{locals.error_message}} 
            </div>

            {% else if (!error_message && message) %}
            <div class="alert alert-success mt-3" role="alert">
              Account created successfully
            </div>
            {% endif %}
          </form>
          
    </div>
  </div>
  
        </div>
      </article>
</div>
</div>

    </div>
  </article>
{% endblock content %}